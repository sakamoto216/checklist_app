# FEAT-2025-006: リスト初期化機能

## 📋 基本情報
- **チケット番号**: FEAT-2025-006
- **タイトル**: リスト初期化機能
- **作成日**: 2025-08-05
- **優先度**: Medium
- **状態**: todo
- **担当者**: Claude Code
- **推定工数**: 2時間

## 📝 概要
設定画面に「リストの初期化」ボタンを追加し、すべてのタスクを削除する機能を実装する。誤操作を防ぐため、確認ダイアログを表示してからの実行とする。

## 🎯 受け入れ条件
- [ ] 設定画面の「設定をリセット」ボタンの下に「リストの初期化」ボタンを追加
- [ ] ボタンのデザインは危険性を示す赤系統の色を使用
- [ ] ボタンを押すと確認ダイアログが表示される
- [ ] ダイアログで「初期化」を選択するとすべてのタスクが削除される
- [ ] ダイアログで「キャンセル」を選択すると何もしない
- [ ] 初期化後は空のタスクが1つ自動作成される
- [ ] 全タブのタスクが削除される（タブ自体は残す）
- [ ] 操作完了後にダイアログまたは通知で完了を知らせる

## 🔧 技術要件
- SettingsModal.jsに新しいボタンを追加
- App.jsまたはuseTasks.jsに初期化関数を作成
- Alert.alertでの確認ダイアログ実装
- AsyncStorageからのデータ削除対応
- useTabManagerとの連携でタブ別データの初期化

## 📂 影響範囲
- `src/components/SettingsModal.js` - ボタン追加とイベントハンドラ
- `src/hooks/useTasks.js` - 初期化関数の実装
- `src/hooks/useTabManager.js` - タブデータの初期化
- `src/styles/styles.js` - 新しいボタンのスタイル追加
- `App.js` - 初期化関数の統合

## 💡 実装アプローチ
1. **SettingsModalにボタン追加**
   - 「設定をリセット」の下に配置
   - 赤系統の背景色で危険性を強調
   - アイコンとテキストを含む

2. **初期化関数の実装**
   - すべてのタブのタスクデータを削除
   - AsyncStorageから関連データを削除
   - 空のタスクを1つ自動作成

3. **確認ダイアログの実装**
   - Alert.alertを使用
   - 警告文で操作の重要性を説明
   - Android対応の遅延実行

4. **完了通知の実装**
   - 初期化完了をユーザーに通知
   - ダイアログまたはToast通知

## 🎨 UI設計
### ボタンデザイン
- **背景色**: #FF5722 (危険色)
- **テキスト色**: #FFFFFF
- **アイコン**: 削除やリセット系のアイコン
- **配置**: 設定リセットボタンの下、余白を空けて配置

### 確認ダイアログ
- **タイトル**: 「リストを初期化」
- **メッセージ**: 「すべてのタスクが削除されます。この操作は取り消せません。」
- **ボタン**: 「キャンセル」「初期化」

## ⚠️ 注意事項
- データの完全削除のため、十分な確認を促す
- バックアップ機能がないことをユーザーに明示
- タブの構造は維持し、タスクデータのみ削除
- AsyncStorageの例外処理を適切に実装

## 🔗 関連
- FEAT-2025-005: 設定画面機能（完了済み）
- useTasks.js のタスク管理機能
- useTabManager.js のタブ管理機能

## Claude Code指示
1. SettingsModal.jsに「リストの初期化」ボタンを追加
2. 危険性を示す赤いボタンデザインを実装
3. 確認ダイアログの実装（Android対応）
4. useTasks.jsに初期化関数を追加
5. useTabManagerとの連携で全タブ初期化
6. AsyncStorageからのデータ削除処理
7. 初期化後の空タスク自動作成
8. 完了通知の実装
9. 動作確認とテスト

## 作業ログ
### 2025-08-05
- チケット作成完了
- 要件定義と実装アプローチ策定完了- 2025-08-05 17:06 - 作業開始
